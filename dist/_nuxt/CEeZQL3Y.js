import{_ as w}from"./BTZhcGdv.js";import{h as V,_ as $,E as N}from"./DqEprDpo.js";import{_ as T}from"./7bhDg-qu.js";import{_ as B,a as E,b as P}from"./vQklLf3t.js";import{r as p,e as A,c as _,f as v,a as n,b as s,w as u,o,g as d,h as y,i as I}from"./C3f4aPB-.js";import{a as j,B as C,h as L,u as M}from"./CcP0DOW9.js";import{V as R}from"./BgMq0hds.js";import D from"./DnNgbg9R.js";import F from"./DNczKR6R.js";import S from"./BshXXGsu.js";import q from"./YuJ2Lz2M.js";import"./CUORWU_8.js";import"./BkuQPsS-.js";import"./o7ON5bpy.js";import"./CMuC9vtR.js";import"./BtdaXWqS.js";import"./BXf6iyTY.js";import"./LZjZXXgf.js";const z={key:0},G={class:"flex flex-col space-y-6 p-1 min-h-screen"},H={class:"flex items-center justify-between"},J={class:"flex flex-col md:flex-row md:justify-between items-center gap-4"},K={class:"overflow-x-auto"},O={key:0},Q={colspan:"100%",class:"text-center py-4"},W={key:1},X={class:"flex space-x-2"},Y={key:1},he={__name:"index",setup(Z){const r=p({users:[],totalrows:0}),i=p(!1),a=p({search:"",page_num:1,itemsperpage:10}),h=[{key:"username",label:"Username"},{key:"fullName",label:"Fullname"},{key:"email",label:"Email"},{key:"roleName",label:"Role"},{key:"actions",label:"Actions"}],m=async()=>{try{i.value=!0;const l=await j.post(`${R}users/list`,a.value,C());r.value=l.data}catch(l){L(l)}finally{i.value=!1}},x=l=>{a.value.page_num=l??1,m()},g=M(async()=>{a.value.page_num=1,await m()}),c=()=>m();return A(m),(l,t)=>{const k=w,U=$,f=T,b=P;return v(V)("Navigation_Users")?(o(),_("div",z,[n("div",G,[n("div",H,[s(B,{page:"Users"})]),s(f,null,{default:u(()=>[n("div",J,[s(k,{modelValue:a.value.search,"onUpdate:modelValue":t[0]||(t[0]=e=>a.value.search=e),onInput:t[1]||(t[1]=I(e=>v(g)(),["prevent"])),placeholder:"Search Users...",trailing:!0,class:"w-full md:w-1/3"},null,8,["modelValue"]),s(D,{onTransaction_id:c})]),n("div",K,[s(f,null,{default:u(()=>[s(U,{rows:i.value?[]:r.value.users,columns:h},{body:u(()=>[i.value?(o(),_("tr",O,[n("td",Q,[s(E)])])):r.value.users.length===0?(o(),_("tr",W,t[3]||(t[3]=[n("td",{colspan:"100%",class:"text-center py-4 text-gray-500"}," No data found. ",-1)]))):y("",!0)]),"actions-data":u(({row:e})=>[n("div",X,[(o(),d(F,{data:e,key:e.id,onTransaction_id:c},null,8,["data"])),(o(),d(q,{data:e,key:e.id,onTransaction_id:c},null,8,["data"])),(o(),d(S,{data:e,key:e.id,onTransaction_id:c},null,8,["data"]))])]),_:1},8,["rows"])]),_:1})]),!i.value&&r.value.totalrows>0?(o(),d(b,{key:0,modelValue:a.value.page_num,"onUpdate:modelValue":[t[2]||(t[2]=e=>a.value.page_num=e),x],total:r.value.totalrows,"items-per-page":a.value.itemsperpage,class:"justify-center"},null,8,["modelValue","total","items-per-page"])):y("",!0)]),_:1})])])):(o(),_("div",Y,[s(N)]))}}};export{he as default};
