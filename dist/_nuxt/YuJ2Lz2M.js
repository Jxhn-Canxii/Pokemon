import{_ as P,V as h}from"./BgMq0hds.js";import{_ as B}from"./BTZhcGdv.js";import{_ as k,a as E,b as F}from"./BtdaXWqS.js";import{_ as $}from"./7bhDg-qu.js";import{r as u,c as _,b as s,w as n,o as c,d as f,i as A,a as d,h as M,n as S,t as D}from"./C3f4aPB-.js";import{F as R,a as j,B as I,A as O,h as T}from"./CcP0DOW9.js";import"./o7ON5bpy.js";import"./CMuC9vtR.js";import"./CUORWU_8.js";const q={class:"space-y-4 p-4 overflow-auto"},z={key:0,class:"text-red-500 text-sm mt-1"},G={class:"flex justify-end mt-6"},ee={__name:"ResetPassword",props:{data:{type:Object,required:!0}},emits:["transaction_id"],setup(w,{emit:v}){const x=v,b=w,l=u(!1),r=u({}),t=u({user_id:0,full_name:"",new_password:""}),V=()=>{y(),l.value=!0},y=()=>{const o=b.data;t.value.user_id=o.id,t.value.full_name=o.fullName},g=async()=>{try{r.value={};const o=R(t.value),e=await j.post(`${h}users/change-password`,o,I());O("success","Success",e.data.message),l.value=!1,x("transaction_id",Math.random())}catch(o){o.response&&o.response.data&&o.response.data.errors?r.value=o.response.data.errors:T(o)}};return(o,e)=>{const m=P,p=B,i=F,U=E,C=$,N=k;return c(),_("div",null,[s(m,{icon:"i-heroicons-lock-closed",color:"gray",onClick:e[0]||(e[0]=a=>V())},{default:n(()=>e[5]||(e[5]=[f(" Reset ")])),_:1}),s(N,{show:l.value,"onUpdate:show":e[3]||(e[3]=a=>l.value=a),title:"Change Password",onClose:e[4]||(e[4]=a=>l.value=!1),maxWidth:"2xl"},{default:n(()=>[s(C,null,{default:n(()=>[s(U,{onSubmit:A(g,["prevent"])},{default:n(()=>[d("div",q,[e[7]||(e[7]=d("h3",{class:"text-lg font-semibold"},"Change Password",-1)),e[8]||(e[8]=d("hr",null,null,-1)),s(i,{label:"Name"},{default:n(()=>[s(p,{modelValue:t.value.full_name,"onUpdate:modelValue":e[1]||(e[1]=a=>t.value.full_name=a),disabled:"",placeholder:"Enter Full Name",class:"bg-gray-200"},null,8,["modelValue"])]),_:1}),s(i,{label:"New Password"},{default:n(()=>[s(p,{type:"password",modelValue:t.value.new_password,"onUpdate:modelValue":e[2]||(e[2]=a=>t.value.new_password=a),placeholder:"Enter New Password",class:S({"border-red-500":r.value.new_password})},null,8,["modelValue","class"]),r.value.new_password?(c(),_("p",z,D(r.value.new_password[0]),1)):M("",!0)]),_:1}),d("div",G,[s(m,{type:"submit",color:"blue"},{default:n(()=>e[6]||(e[6]=[f(" Submit ")])),_:1})])])]),_:1})]),_:1})]),_:1},8,["show"])])}}};export{ee as default};
