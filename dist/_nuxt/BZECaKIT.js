import{_ as h,V}from"./BgMq0hds.js";import{_ as D}from"./BTZhcGdv.js";import{_ as R,a as T,b as I}from"./BtdaXWqS.js";import{_ as j}from"./BXf6iyTY.js";import{_ as z}from"./CLSZbrfm.js";import{_ as G}from"./7bhDg-qu.js";import{r as f,c as d,b as o,w as r,o as i,d as k,i as L,a as g,h as c,n as v,t as u}from"./C3f4aPB-.js";import{a as y,B as U,h as w,F as O,A as W}from"./CcP0DOW9.js";import"./o7ON5bpy.js";import"./CMuC9vtR.js";import"./CUORWU_8.js";const q={class:"space-y-6 p-4 overflow-auto"},H={key:0,class:"text-red-500 text-sm mt-1"},J={key:0,class:"text-red-500 text-sm mt-1"},K={key:0,class:"text-red-500 text-sm mt-1"},Q={key:0,class:"text-red-500 text-sm mt-1"},X={key:0,class:"text-red-500 text-sm mt-1"},Y={class:"flex justify-end"},me={__name:"AddParking",emits:["transaction_id"],setup(Z,{emit:A}){const P=A,m=f(!1),b=f([]),l=f({parking_name:"",price:0,area:0,remarks:"",building_id:0}),a=f({}),B=()=>{m.value=!0,x(),$()},$=async()=>{try{const n=await y.get(`${V}buildings/dropdown`,U());b.value=n.data.buildings}catch(n){w(n)}},x=()=>{l.value={parking_name:"",price:0,area:0,remarks:"",building_id:""},a.value={}},E=async()=>{var n,e;try{a.value={};const s=O(l.value),p=await y.post(`${V}parkings/add`,s,U());await W("success","Success",p.data.message),x(),m.value=!1,P("transaction_id",Math.random())}catch(s){(e=(n=s.response)==null?void 0:n.data)!=null&&e.errors?a.value=s.response.data.errors:w(s)}};return(n,e)=>{const s=h,p=D,_=I,C=j,N=z,S=T,F=G,M=R;return i(),d("div",null,[o(s,{icon:"i-heroicons-plus",color:"blue",onClick:e[0]||(e[0]=t=>B())},{default:r(()=>e[8]||(e[8]=[k(" Add Parking ")])),_:1}),o(M,{show:m.value,"onUpdate:show":e[6]||(e[6]=t=>m.value=t),title:"Add Parking",onClose:e[7]||(e[7]=t=>m.value=!1),maxWidth:"xl"},{default:r(()=>[o(F,null,{default:r(()=>[o(S,{onSubmit:L(E,["prevent"])},{default:r(()=>[g("div",q,[e[10]||(e[10]=g("h3",{class:"text-lg font-semibold"},"Add Parking",-1)),e[11]||(e[11]=g("hr",null,null,-1)),o(_,{label:"Parking Name"},{default:r(()=>[o(p,{modelValue:l.value.parking_name,"onUpdate:modelValue":e[1]||(e[1]=t=>l.value.parking_name=t),placeholder:"Enter Parking Name",class:v({"border-red-500":a.value.parking_name})},null,8,["modelValue","class"]),a.value.parking_name?(i(),d("p",H,u(a.value.parking_name[0]),1)):c("",!0)]),_:1}),o(_,{label:"Building"},{default:r(()=>[o(C,{modelValue:l.value.building_id,"onUpdate:modelValue":e[2]||(e[2]=t=>l.value.building_id=t),options:b.value,placeholder:"Select Building",class:v({"border-red-500":a.value.building_id})},{option:r(({option:t})=>[k(u(t.label),1)]),_:1},8,["modelValue","options","class"]),a.value.building_id?(i(),d("p",J,u(a.value.building_id[0]),1)):c("",!0)]),_:1}),o(_,{label:"Area"},{default:r(()=>[o(p,{modelValue:l.value.area,"onUpdate:modelValue":e[3]||(e[3]=t=>l.value.area=t),type:"number",placeholder:"Enter Area",class:v({"border-red-500":a.value.area})},null,8,["modelValue","class"]),a.value.area?(i(),d("p",K,u(a.value.area[0]),1)):c("",!0)]),_:1}),o(_,{label:"Price"},{default:r(()=>[o(p,{modelValue:l.value.price,"onUpdate:modelValue":e[4]||(e[4]=t=>l.value.price=t),type:"number",placeholder:"Enter Price",class:v({"border-red-500":a.value.price})},null,8,["modelValue","class"]),a.value.price?(i(),d("p",Q,u(a.value.price[0]),1)):c("",!0)]),_:1}),o(_,{label:"Remarks"},{default:r(()=>[o(N,{modelValue:l.value.remarks,"onUpdate:modelValue":e[5]||(e[5]=t=>l.value.remarks=t),placeholder:"Enter Remarks",class:v({"border-red-500":a.value.remarks})},null,8,["modelValue","class"]),a.value.remarks?(i(),d("p",X,u(a.value.remarks[0]),1)):c("",!0)]),_:1}),g("div",Y,[o(s,{type:"submit",color:"blue"},{default:r(()=>e[9]||(e[9]=[k(" Save ")])),_:1})])])]),_:1})]),_:1})]),_:1},8,["show"])])}}};export{me as default};
