import{_ as P,V as g}from"./BgMq0hds.js";import{_ as M}from"./BTZhcGdv.js";import{_ as I,a as j,b as z}from"./BtdaXWqS.js";import{_ as G}from"./BXf6iyTY.js";import{_ as L}from"./7bhDg-qu.js";import{r as v,A as O,c as m,b as t,w as s,o as i,d as y,i as W,a as d,h as p,n as f,t as r}from"./C3f4aPB-.js";import{a as x,B as V,h as U,F as q,A as H}from"./CcP0DOW9.js";import"./o7ON5bpy.js";import"./CMuC9vtR.js";import"./CUORWU_8.js";const J={class:"space-y-6 p-4 overflow-auto"},K={class:"grid grid-cols-1 md:grid-cols-4 gap-4"},Q={key:0,class:"text-red-500 text-sm mt-1"},X={key:0,class:"text-red-500 text-sm mt-1"},Y={key:0,class:"text-red-500 text-sm mt-1"},Z={key:0,class:"text-red-500 text-sm mt-1"},ee={class:"grid grid-cols-1 md:grid-cols-3 gap-4"},oe={key:0,class:"text-red-500 text-sm mt-1"},le={key:0,class:"text-red-500 text-sm mt-1"},ae={key:0,class:"text-red-500 text-sm mt-1"},te={class:"grid grid-cols-1 md:grid-cols-3 gap-4"},se={key:0,class:"text-red-500 text-sm mt-1"},re={key:0,class:"text-red-500 text-sm mt-1"},de={key:0,class:"text-red-500 text-sm mt-1"},ue={class:"grid grid-cols-1 md:grid-cols-3 gap-4"},ne={hidden:""},me={key:0,class:"text-red-500 text-sm mt-1"},ie={hidden:""},_e={key:0,class:"text-red-500 text-sm mt-1"},pe={hidden:""},ce={key:0,class:"text-red-500 text-sm mt-1"},ve={class:"flex justify-end"},we={__name:"AddRoom",emits:["transaction_id"],setup(be,{emit:w}){const B=w,b=v(!1);v([]);const R=v([]),A=v([]),o=v({room_num:"",floor:1,building_id:"",roomtype_id:"",room_price:0,service_price:0,balcony_price:0,room_area:0,service_area:0,balcony_area:0}),l=v({}),E=()=>{b.value=!0,k(),h(),F()},S=O(()=>{const _=parseFloat(o.value.room_dues)||0,e=parseFloat(o.value.balcony_dues)||0,c=parseFloat(o.value.service_dues)||0;return _+e+c}),h=async()=>{try{const _=await x.get(`${g}buildings/dropdown`,V());A.value=_.data.buildings}catch(_){U(_)}},F=async()=>{try{const _=await x.get(`${g}roomtypes/dropdown`,V());R.value=_.data.roomtypes}catch(_){U(_)}},k=()=>{o.value={room_num:"",floor:1,building_id:"",roomtype_id:"",room_price:0,service_price:0,balcony_price:0,room_area:0,service_area:0,balcony_area:0},l.value={}},$=async()=>{var _,e;try{l.value={};const c=q(o.value),u=await x.post(`${g}rooms/add`,c,V());await H("success","Success",u.data.message),k(),b.value=!1,B("transaction_id",Math.random())}catch(c){(e=(_=c.response)==null?void 0:_.data)!=null&&e.errors?l.value=c.response.data.errors:U(c)}};return(_,e)=>{const c=P,u=M,n=z,D=G,C=j,N=L,T=I;return i(),m("div",null,[t(c,{icon:"i-heroicons-plus",color:"blue",onClick:e[0]||(e[0]=a=>E())},{default:s(()=>e[16]||(e[16]=[y(" Add Room ")])),_:1}),t(T,{show:b.value,"onUpdate:show":e[14]||(e[14]=a=>b.value=a),title:"Add Room",onClose:e[15]||(e[15]=a=>b.value=!1),maxWidth:"4xl"},{default:s(()=>[t(N,null,{default:s(()=>[t(C,{onSubmit:W($,["prevent"])},{default:s(()=>[d("div",J,[e[21]||(e[21]=d("h3",{class:"text-lg font-semibold"},"Add Room",-1)),e[22]||(e[22]=d("hr",null,null,-1)),d("div",K,[t(n,{label:"Room Name"},{default:s(()=>[t(u,{modelValue:o.value.room_num,"onUpdate:modelValue":e[1]||(e[1]=a=>o.value.room_num=a),placeholder:"Enter Room Name",class:f({"border-red-500":l.value.room_num})},null,8,["modelValue","class"]),l.value.room_num?(i(),m("p",Q,r(l.value.room_num[0]),1)):p("",!0)]),_:1}),t(n,{label:"Floor"},{default:s(()=>[t(u,{modelValue:o.value.floor,"onUpdate:modelValue":e[2]||(e[2]=a=>o.value.floor=a),type:"number",placeholder:"Floor Number",class:f({"border-red-500":l.value.floor})},null,8,["modelValue","class"]),l.value.floor?(i(),m("p",X,r(l.value.floor[0]),1)):p("",!0)]),_:1}),t(n,{label:"Room Type"},{default:s(()=>[t(D,{modelValue:o.value.roomtype_id,"onUpdate:modelValue":e[3]||(e[3]=a=>o.value.roomtype_id=a),options:R.value,placeholder:"Select Type",class:f({"border-red-500":l.value.roomtype_id})},{option:s(({option:a})=>[y(r(a.label),1)]),_:1},8,["modelValue","options","class"]),l.value.roomtype_id?(i(),m("p",Y,r(l.value.roomtype_id[0]),1)):p("",!0)]),_:1}),t(n,{label:"Building"},{default:s(()=>[t(D,{modelValue:o.value.building_id,"onUpdate:modelValue":e[4]||(e[4]=a=>o.value.building_id=a),options:A.value,placeholder:"Select Building",class:f({"border-red-500":l.value.building_id})},{option:s(({option:a})=>[y(r(a.label),1)]),_:1},8,["modelValue","options","class"]),l.value.building_id?(i(),m("p",Z,r(l.value.building_id[0]),1)):p("",!0)]),_:1})]),d("div",null,[e[17]||(e[17]=d("h3",{class:"text-lg font-semibold mb-4"},"Rate",-1)),d("div",ee,[t(n,{label:"Room Rate"},{default:s(()=>[t(u,{modelValue:o.value.room_price,"onUpdate:modelValue":e[5]||(e[5]=a=>o.value.room_price=a),type:"number",step:"0.01",placeholder:"Enter Room Price"},null,8,["modelValue"]),l.value.room_price?(i(),m("p",oe,r(l.value.room_price[0]),1)):p("",!0)]),_:1}),t(n,{label:"Balcony Rate"},{default:s(()=>[t(u,{modelValue:o.value.balcony_price,"onUpdate:modelValue":e[6]||(e[6]=a=>o.value.balcony_price=a),type:"number",step:"0.01",placeholder:"Enter Balcony Price"},null,8,["modelValue"]),l.value.balcony_price?(i(),m("p",le,r(l.value.balcony_price[0]),1)):p("",!0)]),_:1}),t(n,{label:"Service Rate"},{default:s(()=>[t(u,{modelValue:o.value.service_price,"onUpdate:modelValue":e[7]||(e[7]=a=>o.value.service_price=a),type:"number",step:"0.01",placeholder:"Enter Service Price"},null,8,["modelValue"]),l.value.service_price?(i(),m("p",ae,r(l.value.service_price[0]),1)):p("",!0)]),_:1})])]),d("div",null,[e[18]||(e[18]=d("h3",{class:"text-lg font-semibold mb-4"},"Area",-1)),d("div",te,[t(n,{label:"Room Area"},{default:s(()=>[t(u,{modelValue:o.value.room_area,"onUpdate:modelValue":e[8]||(e[8]=a=>o.value.room_area=a),type:"number",step:"0.01",placeholder:"Enter Room Area"},null,8,["modelValue"]),l.value.room_area?(i(),m("p",se,r(l.value.room_area[0]),1)):p("",!0)]),_:1}),t(n,{label:"Balcony Area"},{default:s(()=>[t(u,{modelValue:o.value.balcony_area,"onUpdate:modelValue":e[9]||(e[9]=a=>o.value.balcony_area=a),type:"number",step:"0.01",placeholder:"Enter Balcony Area"},null,8,["modelValue"]),l.value.balcony_area?(i(),m("p",re,r(l.value.balcony_area[0]),1)):p("",!0)]),_:1}),t(n,{label:"Service Area"},{default:s(()=>[t(u,{modelValue:o.value.service_area,"onUpdate:modelValue":e[10]||(e[10]=a=>o.value.service_area=a),type:"number",step:"0.01",placeholder:"Enter Service Area"},null,8,["modelValue"]),l.value.service_area?(i(),m("p",de,r(l.value.service_area[0]),1)):p("",!0)]),_:1})])]),d("div",null,[e[19]||(e[19]=d("h3",{class:"text-lg font-semibold mb-4"},"Condo Dues",-1)),d("div",ue,[t(n,{label:"Room Dues"},{default:s(()=>[d("p",ne,r(o.value.room_dues=o.value.room_area*o.value.room_price),1),t(u,{modelValue:o.value.room_dues,"onUpdate:modelValue":e[11]||(e[11]=a=>o.value.room_dues=a),type:"number",class:"bg-gray-200",disabled:"",placeholder:"Enter Room Dues"},null,8,["modelValue"]),l.value.room_dues?(i(),m("p",me,r(l.value.room_dues[0]),1)):p("",!0)]),_:1}),t(n,{label:"Balcony Dues"},{default:s(()=>[d("p",ie,r(o.value.balcony_dues=o.value.balcony_area*o.value.balcony_price),1),t(u,{modelValue:o.value.balcony_dues,"onUpdate:modelValue":e[12]||(e[12]=a=>o.value.balcony_dues=a),type:"number",class:"bg-gray-200",disabled:"",placeholder:"Enter Balcony Dues"},null,8,["modelValue"]),l.value.balcony_dues?(i(),m("p",_e,r(l.value.balcony_dues[0]),1)):p("",!0)]),_:1}),t(n,{label:"Service Dues"},{default:s(()=>[d("p",pe,r(o.value.service_dues=o.value.service_area*o.value.service_price),1),t(u,{modelValue:o.value.service_dues,"onUpdate:modelValue":e[13]||(e[13]=a=>o.value.service_dues=a),type:"number",class:"bg-gray-200",disabled:"",placeholder:"Enter Service Dues"},null,8,["modelValue"]),l.value.service_dues?(i(),m("p",ce,r(l.value.service_dues[0]),1)):p("",!0)]),_:1})])]),t(n,{label:"Total Dues"},{default:s(()=>[t(u,{"model-value":S.value,disabled:"",class:"bg-gray-100 text-red-500 cursor-not-allowed"},null,8,["model-value"])]),_:1}),d("div",ve,[t(c,{type:"submit",color:"blue"},{default:s(()=>e[20]||(e[20]=[y(" Save ")])),_:1})])])]),_:1})]),_:1})]),_:1},8,["show"])])}}};export{we as default};
