import{_ as A,R as P,V as R}from"./BgMq0hds.js";import{_ as D}from"./BTZhcGdv.js";import{_ as M,a as h,b as I}from"./BtdaXWqS.js";import{_ as O}from"./BXf6iyTY.js";import{_ as j}from"./7bhDg-qu.js";import{r as p,c as d,b as o,w as r,o as m,d as w,i as q,a as _,h as c,t as v,n as f}from"./C3f4aPB-.js";import{F as L,a as T,B as z,A as G,h as W}from"./CcP0DOW9.js";import"./o7ON5bpy.js";import"./CMuC9vtR.js";import"./CUORWU_8.js";const H={class:"space-y-4 p-4 overflow-auto"},J={key:0,class:"text-red-500 text-sm mt-1"},K={key:0,class:"text-red-500 text-sm mt-1"},Q={key:0,class:"text-red-500 text-sm mt-1"},X={key:0,class:"text-red-500 text-sm mt-1"},Y={class:"flex justify-end mt-6"},de={__name:"EditUser",props:{data:{type:Object,required:!0}},emits:["transaction_id"],setup(U,{emit:b}){const y=b,E=U,n=p(!1),x=p([]),t=p({}),l=p({user_id:0,full_name:"",username:"",email:"",role_id:0,password:""}),k=()=>{N(),B(),n.value=!0},N=()=>{const a=E.data;l.value.user_id=a.id,l.value.username=a.username,l.value.full_name=a.fullName,l.value.email=a.email,l.value.role_id=a.roleId},B=async()=>{x.value=await P()},F=async()=>{try{t.value={};const a=L(l.value),e=await T.post(`${R}users/edit`,a,z());G("success","Success",e.data.message),n.value=!1,y("transaction_id",Math.random())}catch(a){a.response&&a.response.data&&a.response.data.errors?t.value=a.response.data.errors:W(a)}};return(a,e)=>{const V=A,i=D,u=I,$=O,C=h,S=j,g=M;return m(),d("div",null,[o(V,{icon:"i-heroicons-pencil-square",color:"yellow",onClick:e[0]||(e[0]=s=>k())},{default:r(()=>e[8]||(e[8]=[w(" Edit ")])),_:1}),o(g,{show:n.value,"onUpdate:show":e[6]||(e[6]=s=>n.value=s),title:"Edit User",onClose:e[7]||(e[7]=s=>n.value=!1),maxWidth:"2xl"},{default:r(()=>[o(S,null,{default:r(()=>[o(C,{onSubmit:q(F,["prevent"])},{default:r(()=>[_("div",H,[e[10]||(e[10]=_("h3",{class:"text-lg font-semibold"},"Edit User",-1)),e[11]||(e[11]=_("hr",null,null,-1)),o(u,{label:"Username"},{default:r(()=>[o(i,{modelValue:l.value.username,"onUpdate:modelValue":e[1]||(e[1]=s=>l.value.username=s),disabled:"",placeholder:"User Name",class:"bg-gray-200"},null,8,["modelValue"])]),_:1}),o(u,{label:"Full Name"},{default:r(()=>[o(i,{modelValue:l.value.full_name,"onUpdate:modelValue":e[2]||(e[2]=s=>l.value.full_name=s),placeholder:"Enter Full Name"},null,8,["modelValue"]),t.value.full_name?(m(),d("p",J,v(t.value.full_name[0]),1)):c("",!0)]),_:1}),o(u,{label:"Email"},{default:r(()=>[o(i,{type:"email",modelValue:l.value.email,"onUpdate:modelValue":e[3]||(e[3]=s=>l.value.email=s),placeholder:"Enter Email",class:f({"border-red-500":t.value.email})},null,8,["modelValue","class"]),t.value.email?(m(),d("p",K,v(t.value.email[0]),1)):c("",!0)]),_:1}),o(u,{label:"Role"},{default:r(()=>[o($,{modelValue:l.value.role_id,"onUpdate:modelValue":e[4]||(e[4]=s=>l.value.role_id=s),options:x.value,placeholder:"Select Role",class:f({"border-red-500":t.value.role_id})},null,8,["modelValue","options","class"]),t.value.role_id?(m(),d("p",Q,v(t.value.role_id[0]),1)):c("",!0)]),_:1}),o(u,{label:"Password"},{default:r(()=>[o(i,{type:"password",modelValue:l.value.password,"onUpdate:modelValue":e[5]||(e[5]=s=>l.value.password=s),placeholder:"Enter Password",class:f({"border-red-500":t.value.password})},null,8,["modelValue","class"]),t.value.password?(m(),d("p",X,v(t.value.password[0]),1)):c("",!0)]),_:1}),_("div",Y,[o(V,{type:"submit",color:"blue"},{default:r(()=>e[9]||(e[9]=[w(" Submit ")])),_:1})])])]),_:1})]),_:1})]),_:1},8,["show"])])}}};export{de as default};
