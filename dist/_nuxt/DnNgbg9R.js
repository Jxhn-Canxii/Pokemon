import{V,_ as F}from"./BgMq0hds.js";import{_ as M}from"./BTZhcGdv.js";import{_ as P,a as g,b as R}from"./BtdaXWqS.js";import{_ as D}from"./BXf6iyTY.js";import{_ as I}from"./7bhDg-qu.js";import{r as v,e as T,c as n,b as o,w as r,o as u,d as b,i as j,a as f,h as i,n as p,t as _}from"./C3f4aPB-.js";import{a as w,B as y,h as A,F as z,A as G}from"./CcP0DOW9.js";import"./o7ON5bpy.js";import"./CMuC9vtR.js";import"./CUORWU_8.js";const L={class:"space-y-4 p-4 overflow-auto"},O={key:0,class:"text-red-500 text-sm mt-1"},W={key:0,class:"text-red-500 text-sm mt-1"},q={key:0,class:"text-red-500 text-sm mt-1"},H={key:0,class:"text-red-500 text-sm mt-1"},J={key:0,class:"text-red-500 text-sm mt-1"},K={class:"flex justify-end mt-6"},ne={__name:"AddUser",emits:["transaction_id"],setup(Q,{emit:k}){const E=k,d=v(!1),t=v({username:"",full_name:"",email:"",password:"",role_id:null}),l=v({}),x=v([]),$=async()=>{try{const a=await w.get(`${V}roles/list`,y());x.value=a.data.roles.map(e=>({label:e.name,value:e.id}))}catch(a){A(a)}},N=async()=>{try{l.value={};const a=z(t.value),e=await w.post(`${V}users/add`,a,y());G("success","Success",e.data.message),d.value=!1,E("transaction_id",Math.random())}catch(a){a.response&&a.response.data&&a.response.data.errors?l.value=a.response.data.errors:A(a)}};return T($),(a,e)=>{const U=F,c=M,m=R,B=D,C=g,S=I,h=P;return u(),n("div",null,[o(U,{icon:"i-heroicons-plus",color:"blue",onClick:e[0]||(e[0]=s=>d.value=!0)},{default:r(()=>e[8]||(e[8]=[b(" Add User ")])),_:1}),o(h,{show:d.value,"onUpdate:show":e[6]||(e[6]=s=>d.value=s),title:"Add User",onClose:e[7]||(e[7]=s=>d.value=!1),maxWidth:"2xl"},{default:r(()=>[o(S,null,{default:r(()=>[o(C,{onSubmit:j(N,["prevent"])},{default:r(()=>[f("div",L,[e[10]||(e[10]=f("h3",{class:"text-lg font-semibold"},"Add User",-1)),e[11]||(e[11]=f("hr",null,null,-1)),o(m,{label:"Username"},{default:r(()=>[o(c,{modelValue:t.value.username,"onUpdate:modelValue":e[1]||(e[1]=s=>t.value.username=s),placeholder:"Enter User Name",class:p({"border-red-500":l.value.username})},null,8,["modelValue","class"]),l.value.username?(u(),n("p",O,_(l.value.username[0]),1)):i("",!0)]),_:1}),o(m,{label:"Name"},{default:r(()=>[o(c,{modelValue:t.value.full_name,"onUpdate:modelValue":e[2]||(e[2]=s=>t.value.full_name=s),placeholder:"Enter Full Name",class:p({"border-red-500":l.value.full_name})},null,8,["modelValue","class"]),l.value.full_name?(u(),n("p",W,_(l.value.full_name[0]),1)):i("",!0)]),_:1}),o(m,{label:"Email"},{default:r(()=>[o(c,{type:"email",modelValue:t.value.email,"onUpdate:modelValue":e[3]||(e[3]=s=>t.value.email=s),placeholder:"Enter Email",class:p({"border-red-500":l.value.email})},null,8,["modelValue","class"]),l.value.email?(u(),n("p",q,_(l.value.email[0]),1)):i("",!0)]),_:1}),o(m,{label:"Password"},{default:r(()=>[o(c,{type:"password",modelValue:t.value.password,"onUpdate:modelValue":e[4]||(e[4]=s=>t.value.password=s),placeholder:"Enter Password",class:p({"border-red-500":l.value.password})},null,8,["modelValue","class"]),l.value.password?(u(),n("p",H,_(l.value.password[0]),1)):i("",!0)]),_:1}),o(m,{label:"Role"},{default:r(()=>[o(B,{modelValue:t.value.role_id,"onUpdate:modelValue":e[5]||(e[5]=s=>t.value.role_id=s),options:x.value,placeholder:"Select Role",class:p({"border-red-500":l.value.role_id})},null,8,["modelValue","options","class"]),l.value.role_id?(u(),n("p",J,_(l.value.role_id[0]),1)):i("",!0)]),_:1}),f("div",K,[o(U,{type:"submit",color:"blue"},{default:r(()=>e[9]||(e[9]=[b(" Submit ")])),_:1})])])]),_:1})]),_:1})]),_:1},8,["show"])])}}};export{ne as default};
