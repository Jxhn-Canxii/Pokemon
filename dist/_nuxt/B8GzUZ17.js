import{_ as C}from"./BTZhcGdv.js";import{h as E,_ as U,E as $}from"./DqEprDpo.js";import{_ as N}from"./7bhDg-qu.js";import{_ as j,a as B,b as I}from"./vQklLf3t.js";import{r as p,e as P,c as u,f as _,a as o,b as n,w as l,o as r,g,h as v,i as T,d as A,t as O}from"./C3f4aPB-.js";import{a as S,B as D,h as L,u as M,r as R}from"./CcP0DOW9.js";import{V as q}from"./BgMq0hds.js";import z from"./z4qPFRe-.js";import F from"./By3Xuslr.js";import"./CUORWU_8.js";import"./BkuQPsS-.js";import"./o7ON5bpy.js";import"./CMuC9vtR.js";import"./BtdaXWqS.js";import"./LZjZXXgf.js";const G={key:0},H={class:"flex flex-col space-y-6 p-1 min-h-screen"},J={class:"flex items-center justify-between"},K={class:"flex flex-col md:flex-row md:justify-between items-center gap-4"},Q={class:"overflow-x-auto"},W={key:0},X={colspan:"100%",class:"text-center py-4"},Y={key:1},Z={class:"flex items-center justify-center"},ee=["src","alt"],ae={class:"flex space-x-2"},oe={key:1},he={__name:"index",setup(te){const i=p({permissions:[],totalrows:0}),m=p(!1),t=p({search:"",page_num:1,itemsperpage:10}),y=[{key:"logo",label:"Logo"},{key:"name",label:"Name"},{key:"email",label:"Email"},{key:"actions",label:"Actions"}],c=async()=>{try{m.value=!0;const s=await S.post(`${q}our-companies/list`,t.value,D());i.value=s.data}catch(s){L(s)}finally{m.value=!1}},h=s=>{t.value.page_num=s??1,c()},x=M(async()=>{t.value.page_num=1,await c()}),d=()=>c();return P(c),(s,a)=>{const k=C,w=U,f=N,b=I;return _(E)("Navigation_Our_Company")?(r(),u("div",G,[o("div",H,[o("div",J,[n(j,{page:"Our Company"})]),n(f,null,{default:l(()=>[o("div",K,[n(k,{modelValue:t.value.search,"onUpdate:modelValue":a[0]||(a[0]=e=>t.value.search=e),onInput:a[1]||(a[1]=T(e=>_(x)(),["prevent"])),placeholder:"Search Our Company...",trailing:!0,class:"w-full md:w-1/3"},null,8,["modelValue"]),n(z,{onTransaction_id:d})]),o("div",Q,[n(f,null,{default:l(()=>[n(w,{rows:m.value?[]:i.value.ourCompanies,columns:y},{body:l(()=>[m.value?(r(),u("tr",W,[o("td",X,[n(B)])])):i.value.ourCompanies.length===0?(r(),u("tr",Y,a[4]||(a[4]=[o("td",{colspan:"100%",class:"text-center py-4 text-gray-500"}," No data found. ",-1)]))):v("",!0)]),"name-data":l(({row:e})=>[A(O(_(R)(e.name)),1)]),"logo-data":l(({row:e})=>[o("div",Z,[o("img",{src:e.image?`data:image/jpeg;base64,${e.image}`:"/images/default/no-image.png",alt:e.name,class:"w-16 h-16 object-cover rounded-lg",onError:a[2]||(a[2]=(...V)=>s.handleImageError&&s.handleImageError(...V))},null,40,ee)])]),"actions-data":l(({row:e})=>[o("div",ae,[(r(),g(F,{key:e.id,data:e,onTransaction_id:d},null,8,["data"]))])]),_:1},8,["rows"])]),_:1})]),!m.value&&i.value.totalrows>0?(r(),g(b,{key:0,modelValue:t.value.page_num,"onUpdate:modelValue":[a[3]||(a[3]=e=>t.value.page_num=e),h],total:i.value.totalrows,"items-per-page":t.value.itemsperpage,class:"justify-center"},null,8,["modelValue","total","items-per-page"])):v("",!0)]),_:1})])])):(r(),u("div",oe,[n($)]))}}};export{he as default};
