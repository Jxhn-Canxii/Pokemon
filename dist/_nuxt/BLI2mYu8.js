import{_ as I,V as f}from"./BgMq0hds.js";import{_ as O}from"./BTZhcGdv.js";import{_ as q,a as z,b as G}from"./BtdaXWqS.js";import{_ as L}from"./BXf6iyTY.js";import{_ as W}from"./7bhDg-qu.js";import{r as v,A as H,c as m,b as t,w as s,o as _,d as y,i as J,a as u,h as p,n as g,t as d}from"./C3f4aPB-.js";import{a as x,B as V,h as U,F as K,A as Q}from"./CcP0DOW9.js";import"./o7ON5bpy.js";import"./CMuC9vtR.js";import"./CUORWU_8.js";const X={class:"space-y-6 p-4 overflow-auto"},Y={class:"grid grid-cols-1 md:grid-cols-4 gap-4"},Z={key:0,class:"text-red-500 text-sm mt-1"},ee={key:0,class:"text-red-500 text-sm mt-1"},oe={key:0,class:"text-red-500 text-sm mt-1"},le={key:0,class:"text-red-500 text-sm mt-1"},ae={class:"grid grid-cols-1 md:grid-cols-3 gap-4"},te={key:0,class:"text-red-500 text-sm mt-1"},re={key:0,class:"text-red-500 text-sm mt-1"},se={key:0,class:"text-red-500 text-sm mt-1"},de={class:"grid grid-cols-1 md:grid-cols-3 gap-4"},ue={key:0,class:"text-red-500 text-sm mt-1"},ne={key:0,class:"text-red-500 text-sm mt-1"},ie={key:0,class:"text-red-500 text-sm mt-1"},me={class:"grid grid-cols-1 md:grid-cols-3 gap-4"},_e={hidden:""},pe={key:0,class:"text-red-500 text-sm mt-1"},ce={hidden:""},ve={key:0,class:"text-red-500 text-sm mt-1"},be={hidden:""},ye={key:0,class:"text-red-500 text-sm mt-1"},ge={class:"flex justify-end"},Ae={__name:"EditRoom",props:{data:Object},emits:["transaction_id"],setup(D,{emit:F}){const A=F,B=D,b=v(!1);v([]);const R=v([]),E=v([]),o=v({room_id:0,room_num:"",floor:1,building_id:0,roomtype_id:0,room_price:0,service_price:0,balcony_price:0,room_area:0,service_area:0,balcony_area:0}),l=v({}),S=()=>{b.value=!0,k(),T(),P(),$()},h=H(()=>{const r=parseFloat(o.value.room_dues)||0,e=parseFloat(o.value.balcony_dues)||0,c=parseFloat(o.value.service_dues)||0;return r+e+c}),P=async()=>{try{const r=await x.get(`${f}buildings/dropdown`,V());E.value=r.data.buildings}catch(r){U(r)}},$=async()=>{try{const r=await x.get(`${f}roomtypes/dropdown`,V());R.value=r.data.roomtypes}catch(r){U(r)}},T=()=>{const r=B.data;console.log(r),o.value={room_id:r.id,room_num:r.room_num,floor:r.floor,building_id:r.building_id,roomtype_id:r.roomtype_id,room_price:parseFloat(r.roomPrice??0),service_price:parseFloat(r.servicePrice??0),balcony_price:parseFloat(r.balconyPrice??0),room_area:parseFloat(r.roomArea??0),service_area:parseFloat(r.serviceArea??0),balcony_area:parseFloat(r.balconyArea??0)},l.value={}},k=()=>{o.value={room_id:0,room_num:"",floor:1,building_id:0,roomtype_id:0,room_price:0,service_price:0,balcony_price:0,room_area:0,service_area:0,balcony_area:0},l.value={}},C=async()=>{var r,e;try{l.value={};const c=K(o.value),n=await x.post(`${f}rooms/edit`,c,V());await Q("success","Success",n.data.message),k(),b.value=!1,A("transaction_id",Math.random())}catch(c){(e=(r=c.response)==null?void 0:r.data)!=null&&e.errors?l.value=c.response.data.errors:U(c)}};return(r,e)=>{const c=I,n=O,i=G,w=L,N=z,M=W,j=q;return _(),m("div",null,[t(c,{icon:"i-heroicons-pencil-square",color:"yellow",onClick:e[0]||(e[0]=a=>S())},{default:s(()=>e[16]||(e[16]=[y(" Edit ")])),_:1}),t(j,{show:b.value,"onUpdate:show":e[14]||(e[14]=a=>b.value=a),title:"Edit Room",onClose:e[15]||(e[15]=a=>b.value=!1),maxWidth:"4xl"},{default:s(()=>[t(M,null,{default:s(()=>[t(N,{onSubmit:J(C,["prevent"])},{default:s(()=>[u("div",X,[e[21]||(e[21]=u("h3",{class:"text-lg font-semibold"},"Edit Room",-1)),e[22]||(e[22]=u("hr",null,null,-1)),u("div",Y,[t(i,{label:"Room Name"},{default:s(()=>[t(n,{modelValue:o.value.room_num,"onUpdate:modelValue":e[1]||(e[1]=a=>o.value.room_num=a),placeholder:"Enter Room Name",disabled:"",class:g(["bg-gray-200",{"border-red-500":l.value.room_num}])},null,8,["modelValue","class"]),l.value.room_num?(_(),m("p",Z,d(l.value.room_num[0]),1)):p("",!0)]),_:1}),t(i,{label:"Floor"},{default:s(()=>[t(n,{modelValue:o.value.floor,"onUpdate:modelValue":e[2]||(e[2]=a=>o.value.floor=a),type:"number",placeholder:"Floor Number",disabled:"",class:g(["bg-gray-200",{"border-red-500":l.value.floor}])},null,8,["modelValue","class"]),l.value.floor?(_(),m("p",ee,d(l.value.floor[0]),1)):p("",!0)]),_:1}),t(i,{label:"Room Type"},{default:s(()=>[t(w,{modelValue:o.value.roomtype_id,"onUpdate:modelValue":e[3]||(e[3]=a=>o.value.roomtype_id=a),options:R.value,placeholder:"Select Type",disabled:"",class:g(["bg-gray-200",{"border-red-500":l.value.roomtype_id}])},{option:s(({option:a})=>[y(d(a.label),1)]),_:1},8,["modelValue","options","class"]),l.value.roomtype_id?(_(),m("p",oe,d(l.value.roomtype_id[0]),1)):p("",!0)]),_:1}),t(i,{label:"Building"},{default:s(()=>[t(w,{modelValue:o.value.building_id,"onUpdate:modelValue":e[4]||(e[4]=a=>o.value.building_id=a),options:E.value,placeholder:"Select Building",disabled:"",class:g(["bg-gray-200",{"border-red-500":l.value.building_id}])},{option:s(({option:a})=>[y(d(a.label),1)]),_:1},8,["modelValue","options","class"]),l.value.building_id?(_(),m("p",le,d(l.value.building_id[0]),1)):p("",!0)]),_:1})]),u("div",null,[e[17]||(e[17]=u("h3",{class:"text-lg font-semibold mb-4"},"Rate",-1)),u("div",ae,[t(i,{label:"Room Rate"},{default:s(()=>[t(n,{modelValue:o.value.room_price,"onUpdate:modelValue":e[5]||(e[5]=a=>o.value.room_price=a),type:"number",step:"0.01",placeholder:"Enter Room Price"},null,8,["modelValue"]),l.value.room_price?(_(),m("p",te,d(l.value.room_price[0]),1)):p("",!0)]),_:1}),t(i,{label:"Balcony Rate"},{default:s(()=>[t(n,{modelValue:o.value.balcony_price,"onUpdate:modelValue":e[6]||(e[6]=a=>o.value.balcony_price=a),type:"number",step:"0.01",placeholder:"Enter Balcony Price"},null,8,["modelValue"]),l.value.balcony_price?(_(),m("p",re,d(l.value.balcony_price[0]),1)):p("",!0)]),_:1}),t(i,{label:"Service Rate"},{default:s(()=>[t(n,{modelValue:o.value.service_price,"onUpdate:modelValue":e[7]||(e[7]=a=>o.value.service_price=a),type:"number",step:"0.01",placeholder:"Enter Service Price"},null,8,["modelValue"]),l.value.service_price?(_(),m("p",se,d(l.value.service_price[0]),1)):p("",!0)]),_:1})])]),u("div",null,[e[18]||(e[18]=u("h3",{class:"text-lg font-semibold mb-4"},"Area",-1)),u("div",de,[t(i,{label:"Room Area"},{default:s(()=>[t(n,{modelValue:o.value.room_area,"onUpdate:modelValue":e[8]||(e[8]=a=>o.value.room_area=a),type:"number",step:"0.01",placeholder:"Enter Room Area"},null,8,["modelValue"]),l.value.room_area?(_(),m("p",ue,d(l.value.room_area[0]),1)):p("",!0)]),_:1}),t(i,{label:"Balcony Area"},{default:s(()=>[t(n,{modelValue:o.value.balcony_area,"onUpdate:modelValue":e[9]||(e[9]=a=>o.value.balcony_area=a),type:"number",step:"0.01",placeholder:"Enter Balcony Area"},null,8,["modelValue"]),l.value.balcony_area?(_(),m("p",ne,d(l.value.balcony_area[0]),1)):p("",!0)]),_:1}),t(i,{label:"Service Area"},{default:s(()=>[t(n,{modelValue:o.value.service_area,"onUpdate:modelValue":e[10]||(e[10]=a=>o.value.service_area=a),type:"number",step:"0.01",placeholder:"Enter Service Area"},null,8,["modelValue"]),l.value.service_area?(_(),m("p",ie,d(l.value.service_area[0]),1)):p("",!0)]),_:1})])]),u("div",null,[e[19]||(e[19]=u("h3",{class:"text-lg font-semibold mb-4"},"Condo Dues",-1)),u("div",me,[t(i,{label:"Room Dues"},{default:s(()=>[u("p",_e,d(o.value.room_dues=o.value.room_area*o.value.room_price),1),t(n,{modelValue:o.value.room_dues,"onUpdate:modelValue":e[11]||(e[11]=a=>o.value.room_dues=a),type:"number",class:"bg-gray-200",disabled:"",placeholder:"Enter Room Dues"},null,8,["modelValue"]),l.value.room_dues?(_(),m("p",pe,d(l.value.room_dues[0]),1)):p("",!0)]),_:1}),t(i,{label:"Balcony Dues"},{default:s(()=>[u("p",ce,d(o.value.balcony_dues=o.value.balcony_area*o.value.balcony_price),1),t(n,{modelValue:o.value.balcony_dues,"onUpdate:modelValue":e[12]||(e[12]=a=>o.value.balcony_dues=a),type:"number",class:"bg-gray-200",disabled:"",placeholder:"Enter Balcony Dues"},null,8,["modelValue"]),l.value.balcony_dues?(_(),m("p",ve,d(l.value.balcony_dues[0]),1)):p("",!0)]),_:1}),t(i,{label:"Service Dues"},{default:s(()=>[u("p",be,d(o.value.service_dues=o.value.service_area*o.value.service_price),1),t(n,{modelValue:o.value.service_dues,"onUpdate:modelValue":e[13]||(e[13]=a=>o.value.service_dues=a),type:"number",class:"bg-gray-200",disabled:"",placeholder:"Enter Service Dues"},null,8,["modelValue"]),l.value.service_dues?(_(),m("p",ye,d(l.value.service_dues[0]),1)):p("",!0)]),_:1})])]),t(i,{label:"Total Dues"},{default:s(()=>[t(n,{"model-value":h.value,disabled:"",class:"bg-gray-100 text-red-500 cursor-not-allowed"},null,8,["model-value"])]),_:1}),u("div",ge,[t(c,{type:"submit",color:"blue"},{default:s(()=>e[20]||(e[20]=[y(" Save ")])),_:1})])])]),_:1})]),_:1})]),_:1},8,["show"])])}}};export{Ae as default};
