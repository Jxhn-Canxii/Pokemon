import{_ as P}from"./BTZhcGdv.js";import{h as b,_ as U,E as N}from"./DqEprDpo.js";import{_ as T}from"./7bhDg-qu.js";import{_ as $,a as B,b as E}from"./vQklLf3t.js";import{r as p,e as A,c as _,f as u,a as o,b as t,w as m,o as r,g as v,h as y,i as I,d as j,t as C}from"./C3f4aPB-.js";import{a as S,B as D,h as L,u as M,r as R}from"./CcP0DOW9.js";import{V as q}from"./BgMq0hds.js";import z from"./BH5zfMzm.js";import F from"./b4FVDrlU.js";import"./CUORWU_8.js";import"./BkuQPsS-.js";import"./o7ON5bpy.js";import"./CMuC9vtR.js";import"./BtdaXWqS.js";import"./LZjZXXgf.js";const G={key:0},H={class:"flex flex-col space-y-6 p-1 min-h-screen"},J={class:"flex items-center justify-between"},K={class:"flex flex-col md:flex-row md:justify-between items-center gap-4"},O={class:"overflow-x-auto"},Q={key:0},W={colspan:"100%",class:"text-center py-4"},X={key:1},Y={class:"flex space-x-2"},Z={key:1},ve={__name:"index",setup(ee){const i=p({permissions:[],totalrows:0}),l=p(!1),a=p({search:"",page_num:1,itemsperpage:10}),h=[{key:"name",label:"Permission Name"},{key:"type",label:"Type"},{key:"actions",label:"Actions"}],c=async()=>{try{l.value=!0;const n=await S.post(`${q}permissions/list`,a.value,D());i.value=n.data}catch(n){L(n)}finally{l.value=!1}},x=n=>{a.value.page_num=n??1,c()},g=M(async()=>{a.value.page_num=1,await c()}),d=()=>c();return A(c),(n,s)=>{const w=P,k=U,f=T,V=E;return u(b)("Navigation_Permissions")?(r(),_("div",G,[o("div",H,[o("div",J,[t($,{page:"Permission"})]),t(f,null,{default:m(()=>[o("div",K,[t(w,{modelValue:a.value.search,"onUpdate:modelValue":s[0]||(s[0]=e=>a.value.search=e),onInput:s[1]||(s[1]=I(e=>u(g)(),["prevent"])),placeholder:"Search Permission...",trailing:!0,class:"w-full md:w-1/3"},null,8,["modelValue"]),t(z,{onTransaction_id:d})]),o("div",O,[t(f,null,{default:m(()=>[t(k,{rows:l.value?[]:i.value.permissions,columns:h},{body:m(()=>[l.value?(r(),_("tr",Q,[o("td",W,[t(B)])])):i.value.permissions.length===0?(r(),_("tr",X,s[3]||(s[3]=[o("td",{colspan:"100%",class:"text-center py-4 text-gray-500"}," No data found. ",-1)]))):y("",!0)]),"name-data":m(({row:e})=>[j(C(u(R)(e.name)),1)]),"actions-data":m(({row:e})=>[o("div",Y,[(r(),v(F,{key:e.id,data:e,onTransaction_id:d},null,8,["data"]))])]),_:1},8,["rows"])]),_:1})]),!l.value&&i.value.totalrows>0?(r(),v(V,{key:0,modelValue:a.value.page_num,"onUpdate:modelValue":[s[2]||(s[2]=e=>a.value.page_num=e),x],total:i.value.totalrows,"items-per-page":a.value.itemsperpage,class:"justify-center"},null,8,["modelValue","total","items-per-page"])):y("",!0)]),_:1})])])):(r(),_("div",Z,[t(N)]))}}};export{ve as default};
