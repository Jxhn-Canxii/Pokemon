import{_ as A}from"./BTZhcGdv.js";import{h as N,_ as B,E as U}from"./DqEprDpo.js";import{_ as $}from"./7bhDg-qu.js";import{_ as T,a as P,b as R}from"./vQklLf3t.js";import{r as d,e as E,c as _,f as v,a as s,b as t,w as m,o as n,g as p,h as y,i as I,d as j,t as g}from"./C3f4aPB-.js";import{a as C,B as S,h as D,u as M}from"./CcP0DOW9.js";import{V as L}from"./BgMq0hds.js";import q from"./CAIdBhX4.js";import z from"./BLI2mYu8.js";import F from"./u1FrtsFd.js";import"./CUORWU_8.js";import"./BkuQPsS-.js";import"./o7ON5bpy.js";import"./CMuC9vtR.js";import"./BtdaXWqS.js";import"./BXf6iyTY.js";import"./LZjZXXgf.js";const G={key:0},H={class:"flex flex-col space-y-6 p-1 min-h-screen"},J={class:"flex items-center justify-between"},K={class:"flex flex-col md:flex-row md:justify-between items-center gap-4"},O={class:"overflow-x-auto"},Q={key:0},W={colspan:"100%",class:"text-center py-4"},X={key:1},Y={class:"flex space-x-2"},Z={key:1},ge={__name:"index",setup(ee){const r=d({permissions:[],totalrows:0}),i=d(!1),a=d({search:"",page_num:1,itemsperpage:10,building_id:0}),h=[{key:"roomName",label:"Name"},{key:"building",label:"Building"},{key:"roomArea",label:"Room Area"},{key:"balconyArea",label:"Balcony Area"},{key:"serviceArea",label:"Service Area"},{key:"actions",label:"Actions"}],c=async()=>{try{i.value=!0;const l=await C.post(`${L}rooms/list`,a.value,S());r.value=l.data}catch(l){D(l)}finally{i.value=!1}},x=l=>{a.value.page_num=l??1,c()},b=M(async()=>{a.value.page_num=1,await c()}),u=()=>c();return E(c),(l,o)=>{const k=A,w=B,f=$,V=R;return v(N)("Navigation_Rooms")?(n(),_("div",G,[s("div",H,[s("div",J,[t(T,{page:"Rooms"})]),t(f,null,{default:m(()=>[s("div",K,[t(k,{modelValue:a.value.search,"onUpdate:modelValue":o[0]||(o[0]=e=>a.value.search=e),onInput:o[1]||(o[1]=I(e=>v(b)(),["prevent"])),placeholder:"Search Room...",trailing:!0,class:"w-full md:w-1/3"},null,8,["modelValue"]),t(q,{onTransaction_id:u})]),s("div",O,[t(f,null,{default:m(()=>[t(w,{rows:i.value?[]:r.value.rooms,columns:h},{body:m(()=>[i.value?(n(),_("tr",Q,[s("td",W,[t(P)])])):r.value.rooms.length===0?(n(),_("tr",X,o[3]||(o[3]=[s("td",{colspan:"100%",class:"text-center py-4 text-gray-500"}," No data found. ",-1)]))):y("",!0)]),"roomName-data":m(({row:e})=>[j(g(e.room_num)+" ("+g(e.roomtypeAbbre)+") ",1)]),"actions-data":m(({row:e})=>[s("div",Y,[(n(),p(z,{key:e.id,data:e,onTransaction_id:u},null,8,["data"])),(n(),p(F,{key:e.id,data:e,onTransaction_id:u},null,8,["data"]))])]),_:1},8,["rows"])]),_:1})]),!i.value&&r.value.totalrows>0?(n(),p(V,{key:0,modelValue:a.value.page_num,"onUpdate:modelValue":[o[2]||(o[2]=e=>a.value.page_num=e),x],total:r.value.totalrows,"items-per-page":a.value.itemsperpage,class:"justify-center"},null,8,["modelValue","total","items-per-page"])):y("",!0)]),_:1})])])):(n(),_("div",Z,[t(U)]))}}};export{ge as default};
