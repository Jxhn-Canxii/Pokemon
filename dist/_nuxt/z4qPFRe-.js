import{_ as j,a as P,V as $}from"./BgMq0hds.js";import{_ as B}from"./BTZhcGdv.js";import{_ as O,a as M,b as R}from"./BtdaXWqS.js";import{_ as T}from"./7bhDg-qu.js";import{r as y,c as d,b as t,w as n,o as u,d as x,i as V,a as s,h as c,n as v,t as _,F as G,j as L}from"./C3f4aPB-.js";import{a as S,B as D,A as J,h as z}from"./CcP0DOW9.js";import"./o7ON5bpy.js";import"./CMuC9vtR.js";import"./CUORWU_8.js";const W={class:"space-y-4 p-4 overflow-auto"},X={key:0,class:"text-red-500 text-sm mt-1"},q={key:0,class:"text-red-500 text-sm mt-1"},H={key:0,class:"text-red-500 text-sm mt-1"},K={key:0,class:"text-red-500 text-sm mt-1"},Q={key:0,class:"text-red-500 text-sm mt-1"},Y={key:0,class:"text-red-500 text-sm mt-1"},Z={key:0,class:"text-red-500 text-sm mt-1"},ee={class:"space-y-4"},ae={class:"flex items-center justify-center w-full"},te={class:"flex flex-col w-full h-32 border-2 border-dashed rounded-lg cursor-pointer hover:bg-gray-50"},oe={class:"flex flex-col items-center justify-center pt-5 pb-6"},le={key:0,class:"text-red-500 text-sm mt-1"},se={key:1,class:"grid grid-cols-2 md:grid-cols-3 gap-4 mt-4"},re=["src"],ne=["onClick"],de={class:"flex justify-end mt-6"},ge={__name:"AddCompany",emits:["transaction_id"],setup(ue,{emit:h}){const C=h,b=y(!1),f=y([]),l=y({our_company_name:"",contact_info:"",address:"",tin:"",remarks:"",abbre:"",email:""}),a=y({}),U=p=>{f.value=Array.from(p.target.files)},w=p=>{f.value.splice(p,1)},A=()=>{l.value={our_company_name:"",contact_info:"",address:"",tin:"",remarks:"",abbre:"",email:""},f.value=[],a.value={}},E=async()=>{var p,e;try{a.value={};const m=new FormData;Object.keys(l.value).forEach(r=>{m.append(r,l.value[r])}),f.value.forEach(r=>{m.append("our_company_images[]",r)});const i=await S.post(`${$}our-companies/add`,m,{...D(),headers:{"Content-Type":"multipart/form-data"}});await J("success","Success",i.data.message),A(),b.value=!1,C("transaction_id",Math.random())}catch(m){(e=(p=m.response)==null?void 0:p.data)!=null&&e.errors?a.value=m.response.data.errors:z(m)}};return(p,e)=>{const m=j,i=B,r=R,g=P,F=M,N=T,I=O;return u(),d("div",null,[t(m,{icon:"i-heroicons-plus",color:"blue",onClick:e[0]||(e[0]=o=>b.value=!0)},{default:n(()=>e[10]||(e[10]=[x(" Add Our Company ")])),_:1}),t(I,{show:b.value,"onUpdate:show":e[8]||(e[8]=o=>b.value=o),title:"Add Our Company",onClose:e[9]||(e[9]=o=>b.value=!1),maxWidth:"2xl"},{default:n(()=>[t(N,null,{default:n(()=>[t(F,{onSubmit:V(E,["prevent"])},{default:n(()=>[s("div",W,[e[14]||(e[14]=s("h3",{class:"text-lg font-semibold"},"Add Our Company",-1)),e[15]||(e[15]=s("hr",null,null,-1)),t(r,{label:"Company Name"},{default:n(()=>[t(i,{modelValue:l.value.our_company_name,"onUpdate:modelValue":e[1]||(e[1]=o=>l.value.our_company_name=o),placeholder:"Enter Company Name",class:v({"border-red-500":a.value.our_company_name})},null,8,["modelValue","class"]),a.value.our_company_name?(u(),d("p",X,_(a.value.our_company_name[0]),1)):c("",!0)]),_:1}),t(r,{label:"Contact Info"},{default:n(()=>[t(i,{modelValue:l.value.contact_info,"onUpdate:modelValue":e[2]||(e[2]=o=>l.value.contact_info=o),placeholder:"Enter Contact Info",class:v({"border-red-500":a.value.contact_info})},null,8,["modelValue","class"]),a.value.contact_info?(u(),d("p",q,_(a.value.contact_info[0]),1)):c("",!0)]),_:1}),t(r,{label:"Address"},{default:n(()=>[t(i,{modelValue:l.value.address,"onUpdate:modelValue":e[3]||(e[3]=o=>l.value.address=o),placeholder:"Enter Address",class:v({"border-red-500":a.value.address})},null,8,["modelValue","class"]),a.value.address?(u(),d("p",H,_(a.value.address[0]),1)):c("",!0)]),_:1}),t(r,{label:"TIN"},{default:n(()=>[t(i,{modelValue:l.value.tin,"onUpdate:modelValue":e[4]||(e[4]=o=>l.value.tin=o),placeholder:"Enter TIN",class:v({"border-red-500":a.value.tin})},null,8,["modelValue","class"]),a.value.tin?(u(),d("p",K,_(a.value.tin[0]),1)):c("",!0)]),_:1}),t(r,{label:"Remarks"},{default:n(()=>[t(i,{modelValue:l.value.remarks,"onUpdate:modelValue":e[5]||(e[5]=o=>l.value.remarks=o),placeholder:"Enter Remarks",class:v({"border-red-500":a.value.remarks})},null,8,["modelValue","class"]),a.value.remarks?(u(),d("p",Q,_(a.value.remarks[0]),1)):c("",!0)]),_:1}),t(r,{label:"Abbreviation"},{default:n(()=>[t(i,{modelValue:l.value.abbre,"onUpdate:modelValue":e[6]||(e[6]=o=>l.value.abbre=o),placeholder:"Enter Abbreviation",class:v({"border-red-500":a.value.abbre})},null,8,["modelValue","class"]),a.value.abbre?(u(),d("p",Y,_(a.value.abbre[0]),1)):c("",!0)]),_:1}),t(r,{label:"Email"},{default:n(()=>[t(i,{modelValue:l.value.email,"onUpdate:modelValue":e[7]||(e[7]=o=>l.value.email=o),placeholder:"Enter Email",class:v({"border-red-500":a.value.email})},null,8,["modelValue","class"]),a.value.email?(u(),d("p",Z,_(a.value.email[0]),1)):c("",!0)]),_:1}),t(r,{label:"Company Images"},{default:n(()=>[s("div",ee,[s("div",ae,[s("label",te,[s("div",oe,[t(g,{name:"i-heroicons-cloud-arrow-up",class:"w-8 h-8 text-gray-500"}),e[11]||(e[11]=s("p",{class:"mb-2 text-sm text-gray-500"},[s("span",{class:"font-semibold"},"Click to upload"),x(" or drag and drop ")],-1)),e[12]||(e[12]=s("p",{class:"text-xs text-gray-500"},"PNG, JPG, JPEG (MAX. 5 Files)",-1))]),s("input",{type:"file",class:"hidden",multiple:"",accept:"image/*",onChange:U},null,32)])]),a.value.our_company_images?(u(),d("p",le,_(a.value.our_company_images[0]),1)):c("",!0),f.value.length>0?(u(),d("div",se,[(u(!0),d(G,null,L(f.value,(o,k)=>(u(),d("div",{key:k,class:"relative group"},[s("img",{src:p.URL.createObjectURL(o),class:"h-24 w-full object-cover rounded-lg",alt:"Preview"},null,8,re),s("button",{onClick:V(me=>w(k),["prevent"]),class:"absolute top-0 right-0 p-1 bg-red-500 text-white rounded-full transform translate-x-1/2 -translate-y-1/2 opacity-0 group-hover:opacity-100 transition-opacity"},[t(g,{name:"i-heroicons-x-mark",class:"w-4 h-4"})],8,ne)]))),128))])):c("",!0)])]),_:1}),s("div",de,[t(m,{type:"submit",color:"blue"},{default:n(()=>e[13]||(e[13]=[x(" Submit ")])),_:1})])])]),_:1})]),_:1})]),_:1},8,["show"])])}}};export{ge as default};
