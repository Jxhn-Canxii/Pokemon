import{_ as N}from"./BTZhcGdv.js";import{h as B,_ as T,E as U}from"./DqEprDpo.js";import{_ as C}from"./7bhDg-qu.js";import{_ as $,a as A,b as P}from"./vQklLf3t.js";import{r as d,e as E,c as m,f,a as s,b as o,w as c,o as l,g,h as v,i as I,d as j,t as y}from"./C3f4aPB-.js";import{a as D,B as M,h as S,u as L}from"./CcP0DOW9.js";import{V as R}from"./BgMq0hds.js";import q from"./GEZ7aJPS.js";import z from"./CSpJBu0a.js";import"./CUORWU_8.js";import"./BkuQPsS-.js";import"./o7ON5bpy.js";import"./CMuC9vtR.js";import"./BtdaXWqS.js";import"./BXf6iyTY.js";import"./CLSZbrfm.js";import"./LZjZXXgf.js";const F={key:0},G={class:"flex flex-col space-y-6 p-1 min-h-screen"},H={class:"flex items-center justify-between"},J={class:"flex flex-col md:flex-row md:justify-between items-center gap-4"},K={class:"overflow-x-auto"},O={key:0},Q={colspan:"100%",class:"text-center py-4"},W={key:1},X={class:"flex space-x-2"},Y={key:1},ve={__name:"index",setup(Z){const i=d({permissions:[],totalrows:0}),r=d(!1),a=d({search:"",page_num:1,itemsperpage:10}),b=[{key:"buildingName",label:"Name"},{key:"contact_info",label:"Contact"},{key:"address",label:"Address"},{key:"ourCompanyName",label:"Company"},{key:"ourCompanyTin",label:"TIN"},{key:"actions",label:"Actions"}],u=async()=>{try{r.value=!0;const n=await D.post(`${R}buildings/list`,a.value,M());i.value=n.data}catch(n){S(n)}finally{r.value=!1}},h=n=>{a.value.page_num=n??1,u()},x=L(async()=>{a.value.page_num=1,await u()}),_=()=>u();return E(u),(n,t)=>{const k=N,w=T,p=C,V=P;return f(B)("Navigation_Buildings")?(l(),m("div",F,[s("div",G,[s("div",H,[o($,{page:"Building"})]),o(p,null,{default:c(()=>[s("div",J,[o(k,{modelValue:a.value.search,"onUpdate:modelValue":t[0]||(t[0]=e=>a.value.search=e),onInput:t[1]||(t[1]=I(e=>f(x)(),["prevent"])),placeholder:"Search Building...",trailing:!0,class:"w-full md:w-1/3"},null,8,["modelValue"]),o(q,{onTransaction_id:_})]),s("div",K,[o(p,null,{default:c(()=>[o(w,{rows:r.value?[]:i.value.buildings,columns:b},{body:c(()=>[r.value?(l(),m("tr",O,[s("td",Q,[o(A)])])):i.value.buildings.length===0?(l(),m("tr",W,t[3]||(t[3]=[s("td",{colspan:"100%",class:"text-center py-4 text-gray-500"}," No data found. ",-1)]))):v("",!0)]),"buildingName-data":c(({row:e})=>[j(y(e.building)+" ("+y(e.buildingAbbre)+") ",1)]),"actions-data":c(({row:e})=>[s("div",X,[(l(),g(z,{key:e.id,data:e,onTransaction_id:_},null,8,["data"]))])]),_:1},8,["rows"])]),_:1})]),!r.value&&i.value.totalrows>0?(l(),g(V,{key:0,modelValue:a.value.page_num,"onUpdate:modelValue":[t[2]||(t[2]=e=>a.value.page_num=e),h],total:i.value.totalrows,"items-per-page":a.value.itemsperpage,class:"justify-center"},null,8,["modelValue","total","items-per-page"])):v("",!0)]),_:1})])])):(l(),m("div",Y,[o(U)]))}}};export{ve as default};
