import{ad as I,a9 as F,r as z,A as h}from"./C3f4aPB-.js";typeof WorkerGlobalScope<"u"&&globalThis instanceof WorkerGlobalScope;const W=a=>typeof a<"u",b=()=>{};function r(a,n){function t(...l){return new Promise((e,c)=>{Promise.resolve(a(()=>n.apply(this,l),{fn:n,thisArg:this,args:l})).then(e).catch(c)})}return t}function T(a,n={}){let t,l,e=b;const c=d=>{clearTimeout(d),e(),e=b};let f;return d=>{const s=I(a),m=I(n.maxWait);return t&&c(t),s<=0||m!==void 0&&m<=0?(l&&(c(l),l=null),Promise.resolve(d())):new Promise((i,v)=>{e=n.rejectOnCancel?v:i,f=d,m&&!l&&(l=setTimeout(()=>{t&&c(t),l=null,i(f())},m)),t=setTimeout(()=>{l&&c(l),l=null,i(d())},s)})}}function g(a,n=200,t={}){return r(T(n,t),a)}const j=(a,n,t=!0)=>{const l=F("form-events",void 0),e=F("form-group",void 0),c=F("form-inputs",void 0);e&&(!t||a!=null&&a.legend?e.inputId.value=void 0:a!=null&&a.id&&(e.inputId.value=a==null?void 0:a.id),c&&(c.value[e.name.value]=e.inputId.value));const f=z(!1);function u(i,v){l&&l.emit({type:i,path:v})}function d(){u("blur",e==null?void 0:e.name.value),f.value=!0}function s(){u("change",e==null?void 0:e.name.value)}const m=g(()=>{(f.value||e!=null&&e.eagerValidation.value)&&u("input",e==null?void 0:e.name.value)},300);return{inputId:h(()=>(a==null?void 0:a.id)??(e==null?void 0:e.inputId.value)),name:h(()=>(a==null?void 0:a.name)??(e==null?void 0:e.name.value)),size:h(()=>{var v;const i=n.size[e==null?void 0:e.size.value]?e==null?void 0:e.size.value:null;return(a==null?void 0:a.size)??i??((v=n.default)==null?void 0:v.size)}),color:h(()=>{var i;return(i=e==null?void 0:e.error)!=null&&i.value?"red":a==null?void 0:a.color}),emitFormBlur:d,emitFormInput:m,emitFormChange:s}};export{W as i,j as u};
