import{_ as k,V as B}from"./BgMq0hds.js";import{_ as C}from"./BTZhcGdv.js";import{_ as N,a as S,b as $}from"./BtdaXWqS.js";import{_ as E}from"./7bhDg-qu.js";import{r as m,c as p,b as s,w as r,o as d,d as f,i as h,a as i,h as v,n as x,t as y}from"./C3f4aPB-.js";import{b as F,F as M,a as T,B as g,A as D,h as I}from"./CcP0DOW9.js";import"./o7ON5bpy.js";import"./CMuC9vtR.js";import"./CUORWU_8.js";const W={class:"space-y-4 p-4 overflow-auto"},j={key:0,class:"text-red-500 text-sm mt-1"},z={key:0,class:"text-red-500 text-sm mt-1"},G={class:"flex justify-end mt-6"},Z={__name:"AddPermission",emits:["transaction_id"],setup(L,{emit:b}){const V=b,l=m(!1),n=m({permission_name:"",permission_type:""}),o=m({}),U=async()=>{try{o.value={},n.value.permission_name=F(n.value.permission_name);const t=M(n.value),e=await T.post(`${B}permissions/add`,t,g());D("success","Success",e.data.message),l.value=!1,V("transaction_id",Math.random())}catch(t){t.response&&t.response.data&&t.response.data.errors?o.value=t.response.data.errors:I(t)}};return(t,e)=>{const u=k,_=C,c=$,A=S,w=E,P=N;return d(),p("div",null,[s(u,{icon:"i-heroicons-plus",color:"blue",onClick:e[0]||(e[0]=a=>l.value=!0)},{default:r(()=>e[5]||(e[5]=[f(" Add Permission ")])),_:1}),s(P,{show:l.value,"onUpdate:show":e[3]||(e[3]=a=>l.value=a),title:"Add Permission",onClose:e[4]||(e[4]=a=>l.value=!1),maxWidth:"2xl"},{default:r(()=>[s(w,null,{default:r(()=>[s(A,{onSubmit:h(U,["prevent"])},{default:r(()=>[i("div",W,[e[7]||(e[7]=i("h3",{class:"text-lg font-semibold"},"Add Permission",-1)),e[8]||(e[8]=i("hr",null,null,-1)),s(c,{label:"Name"},{default:r(()=>[s(_,{modelValue:n.value.permission_name,"onUpdate:modelValue":e[1]||(e[1]=a=>n.value.permission_name=a),placeholder:"Enter Name",class:x({"border-red-500":o.value.permission_name})},null,8,["modelValue","class"]),o.value.permission_name?(d(),p("p",j,y(o.value.permission_name[0]),1)):v("",!0)]),_:1}),s(c,{label:"Type"},{default:r(()=>[s(_,{type:"text",modelValue:n.value.permission_type,"onUpdate:modelValue":e[2]||(e[2]=a=>n.value.permission_type=a),placeholder:"Enter Type",class:x({"border-red-500":o.value.permission_type})},null,8,["modelValue","class"]),o.value.permission_type?(d(),p("p",z,y(o.value.permission_type[0]),1)):v("",!0)]),_:1}),i("div",G,[s(u,{type:"submit",color:"blue"},{default:r(()=>e[6]||(e[6]=[f(" Submit ")])),_:1})])])]),_:1})]),_:1})]),_:1},8,["show"])])}}};export{Z as default};
